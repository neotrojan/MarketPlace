<p id="notice"><%= notice %></p>

<h1>Contents</h1>

<table>
  <!-- Colonne -->
  <thead>
    <tr>
      <th>Titolo</th>
      <th>Descrizione</th>
      <th>Utente</th>
      <th>Prezzo</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <!-- Contenuto -->
  <tbody>
    <!-- Di tutti gli elementi, visualizzami... -->
    <% @contents.each do |content| %>
      <tr>
        <td><%= content.titolo %></td>
        <td><%= content.descrizione %></td>
        <!--Mostrami il nome dell'utente -->
        <td><%= content.user.name %></td>
        <td><%= content.price %></td>
        
        <!-- mostra il prodotto -->
        <td><%= link_to 'Mostra', content %></td>
        
        <!-- Mostra edit e destroy solo se il contenuto creato Ã¨ stato creato dall'utente loggato -->
        <% if content.user == current_user %> 
          <!-- modifica il contenuto dell'id caricato -->
          <td><%= link_to 'Edit', edit_content_path(content) %></td>
          <!-- cancella il prodotto selezionato e chiedi conferma -->
          <td><%= link_to 'Destroy', content, method: :delete, data: { confirm: 'Sei sicuro di cancellare?' } %></td>
        <% end %>

      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Content', new_content_path %>
